(this.webpackJsonpmovieapp=this.webpackJsonpmovieapp||[]).push([[0],{15:function(e,t,a){},37:function(e,t,a){e.exports=a(69)},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},68:function(e,t){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(33),c=a.n(o),i=(a(42),a(43),a(8)),l=(a(44),a(19)),u=a(7),s=a.n(u),m=a(18),v=a(10),p=a(11),d=a(13),h=a(12),f=a(14),g=a(16),b=a.n(g),E=b.a.create({baseURL:"https://5dd1e6cb15bbc2001448d4b8.mockapi.io",responseType:"json"}),O=(a(15),function(e){var t=e.imageUrl,a=""===t?"https://res.cloudinary.com/teepublic/image/private/s--uaF3fTjE--/t_Preview/b_rgb:191919,c_limit,f_jpg,h_630,q_90,w_630/v1509703595/production/designs/2021255_0.jpg":t;return r.a.createElement("div",{className:"card-header"},r.a.createElement("img",{className:"movieImage",src:a.includes("https")?a:"https://image.tmdb.org/t/p/w500/"+a,alt:"card header"}))}),j=function(e){var t=e.children;return r.a.createElement("div",{className:"card-body"},t)},w=function(e){return console.log("props",e),r.a.createElement("div",{className:"MovieCard-container"},r.a.createElement("div",{className:"MovieCard"},r.a.createElement(O,{imageUrl:e.movie.image_url?e.movie.image_url:""}),r.a.createElement(j,null,r.a.createElement("h3",{className:"Title"},e.movie.Title),r.a.createElement("p",{className:"runtime"},"Runtime: ",e.movie.runtime," minutes"),r.a.createElement("p",{className:"genre"},"Genre: ",e.movie.Genre),r.a.createElement("p",{className:"budget"},"Budget: ",e.movie.budget),r.a.createElement("p",{className:e.movie.revenue>e.movie.budget?"green":"red"},"Box office: ",e.movie.revenue),r.a.createElement("p",{className:"overview"},e.movie.Overview),r.a.createElement("button",{onClick:function(){return e.deleteFn(e.movie.id)}},"Remove"))))};function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).fetchMovies=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.get("/allMovies");case 3:t=e.sent,a.setState({movies:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.handleDeleteMovies=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,E.delete("./allMovies/".concat(t)).then((function(){var e=a.state.movies;e.splice(a.state.movieToDelete.index,1),a.setState({movies:e})})).then((function(){a.fetchMovies()})).catch((function(e){return console.error(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleOpenModal=function(e,t){return a.setState({toDelete:!0,movieToDelete:_({},e,{index:t})})},a.handleCloseModal=function(){return a.setState({toDelete:!1,movieToDelete:{}})},a.state={movies:[],movieToDelete:{},toDelete:!1},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.fetchMovies()}},{key:"render",value:function(){var e=this;return this.state.movies.map((function(t){return r.a.createElement("div",{className:"container"},r.a.createElement(w,{key:t.id,movie:t,deleteFn:e.handleDeleteMovies}))}))}}]),t}(n.Component),y=function(e){var t=e.onChange,a=e.name,n=e.placeholder,o=e.required,c=e.value;return r.a.createElement("div",{className:"input"},r.a.createElement("label",{htmlFor:a},r.a.createElement("span",null,n)),r.a.createElement("input",{value:c,name:a,required:o,onChange:function(e){return t(e)},autocomplete:"off"}))},D=function(e){var t=e.onChange,a=e.onSubmit,n=e.formData,o=n.Title,c=n.Genre,i=n.revenue,l=n.budget,u=n.Overview,s=(n.production_companies,n.image_url),m=n.release_Date,v=n.runtime,p=n.handle;return r.a.createElement("form",{className:"form",onSubmit:function(e){return a(e)}},r.a.createElement("div",{className:"form-container"},r.a.createElement(y,{name:"Title",value:o,required:!0,placeholder:"Movie Name: ",onChange:function(e){return t(e)}}),r.a.createElement(y,{name:"Genre",value:c,required:!0,placeholder:"Movie Genre: ",onChange:function(e){return t(e)}}),r.a.createElement(y,{name:"revenue",value:i,required:!0,placeholder:"Movie Revenue: ",onChange:function(e){return t(e)}}),r.a.createElement(y,{name:"budget",value:l,required:!0,placeholder:"Movie Budget: ",onChange:function(e){return t(e)}}),r.a.createElement(y,{name:"Overview",value:u,required:!0,placeholder:"Movie Overiew: ",onChange:function(e){return t(e)}}),r.a.createElement(y,{name:"image_url",value:s,required:!1,placeholder:"Movie Image: ",onChange:function(e){return t(e)}}),r.a.createElement(y,{placeholder:"Release Date: ",name:"release_Date",value:m,required:!0,onChange:function(e){return t(e)}}),r.a.createElement(y,{placeholder:"Runtime: ",name:"runtime",value:v,required:!0,onChange:function(e){return t(e)}}),r.a.createElement("button",{className:"submit",title:"Submit Info",onClick:p},"Submit")))},C=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n={Title:t.Title,Overview:t.Overview,image_url:t.image_url,Genre:t.Genre,revenue:t.revenue,budget:t.budget,release_Date:t.release_Date,production_companies:t.production_companies,runtime:t.runtime};E.post("/allMovies",n).then((function(e){return 201===e.status?a.props.history.push("/"):null})).catch((function(e){return a.setState({errorMsg:e.message})}))},a.handleChange=function(e){return a.setState(Object(l.a)({},e.target.name,e.target.value))},a.state={Title:"",Overview:"",image_url:"",Genre:"",revenue:"",budget:"",release_Date:"",production_companies:"",errorMsg:"",runtime:""},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Title,a=e.Overview,n=e.image_url,o=e.Genre,c=e.revenue,i=e.budget,l=e.release_Date,u=e.production_companies,s=e.runtime;return r.a.createElement("div",{className:"movie-forms"},r.a.createElement("h3",null,"Add Movie Info!"),r.a.createElement(D,{formData:{Title:t,Overview:a,image_url:n,Genre:o,revenue:c,budget:i,release_Date:l,production_companies:u,runtime:s},onChange:this.handleChange,onSubmit:this.handleSubmit}),this.state.errorMsg?r.a.createElement("p",{className:"error-text"},this.state.errorMsg):null)}}]),t}(n.Component),k=function(){return r.a.createElement("div",{className:"header-container"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Movie App!"),r.a.createElement("img",{className:"popcorn",src:"https://cdn4.iconfinder.com/data/icons/planner-color/64/popcorn-movie-time-512.png"})),r.a.createElement("div",{className:"nav"},r.a.createElement(i.b,{exact:!0,to:"/addMovie",activeClassName:"active"},"Add Movie"),r.a.createElement(i.b,{exact:!0,to:"/",activeClassName:"active"},"Home")))},T=a(36),x=b.a.create({widgetURL:"https://api.themoviedb.org/3/movie/popular?api_key=90e0af9e03c2394457cdaf6222171970",responseType:"json"}),S=function(e){return console.log("props",e),r.a.createElement("div",{className:"widget-container"},r.a.createElement(O,{className:"image-container",imageUrl:e.movie.results[0].poster_path}),r.a.createElement(j,null,r.a.createElement("h1",null,"Today's Top Movie!"),r.a.createElement("h2",null,e.movie.results[0].title),r.a.createElement("p",{className:"views"},e.movie.results[0].popularity," Views"),r.a.createElement("p",{className:"votes"},e.movie.results[0].vote_average,"/10 average user rating"),r.a.createElement("p",null,e.movie.results[0].overview)))},q=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).fetchWidgetMovie=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("https://api.themoviedb.org/3/movie/popular?api_key=90e0af9e03c2394457cdaf6222171970");case 3:t=e.sent,a.setState({movies:[].concat(Object(T.a)(a.state.movies),[t.data])}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.state={movies:[]},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.fetchWidgetMovie()}},{key:"render",value:function(){return this.state.movies.map((function(e){return r.a.createElement(S,{key:e.id,movie:e})}))}}]),t}(n.Component),G=(a(68),function(){return r.a.createElement("div",{className:"middle-container"},r.a.createElement("div",{className:"left-bar"}),r.a.createElement("u",null,r.a.createElement("h1",{className:"browse"},"Browse Movies")),r.a.createElement("div",{className:"right-bar"}))}),P=a(6),R=function(e){return r.a.createElement(P.c,null,r.a.createElement(P.a,{exact:!0,path:"/",component:M}),r.a.createElement(P.a,{exact:!0,path:"/addMovie",component:C}))};var B=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(q,null),r.a.createElement(G,null)),r.a.createElement("main",null,r.a.createElement(R,null)))};c.a.render(r.a.createElement(i.a,null,r.a.createElement(B,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.cda0a87e.chunk.js.map